<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>safeSet.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/LTLA/wasmarrays.js" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Classes</h3><ul><li><a href="BigInt64WasmArray.html">BigInt64WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="BigInt64WasmArray.html#view">view</a></li></ul></li><li><a href="BigUint64WasmArray.html">BigUint64WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="BigUint64WasmArray.html#view">view</a></li></ul></li><li><a href="Float32WasmArray.html">Float32WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Float32WasmArray.html#view">view</a></li></ul></li><li><a href="Float64WasmArray.html">Float64WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Float64WasmArray.html#view">view</a></li></ul></li><li><a href="Int8WasmArray.html">Int8WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Int8WasmArray.html#view">view</a></li></ul></li><li><a href="Int16WasmArray.html">Int16WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Int16WasmArray.html#view">view</a></li></ul></li><li><a href="Int32WasmArray.html">Int32WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Int32WasmArray.html#view">view</a></li></ul></li><li><a href="Uint8WasmArray.html">Uint8WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Uint8WasmArray.html#view">view</a></li></ul></li><li><a href="Uint16WasmArray.html">Uint16WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Uint16WasmArray.html#view">view</a></li></ul></li><li><a href="Uint32WasmArray.html">Uint32WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#array">array</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="Uint32WasmArray.html#view">view</a></li></ul></li><li><a href="WasmArray.html">WasmArray</a><ul class='methods'><li data-type='method' style='display: none;'><a href="WasmArray.html#at">at</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#every">every</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#fill">fill</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#free">free</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#keys">keys</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#map">map</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#reduceRight">reduceRight</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#reverse">reverse</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#set">set</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#slice">slice</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#some">some</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#sort">sort</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#subarray">subarray</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#values">values</a></li><li data-type='method' style='display: none;'><a href="WasmArray.html#view">view</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#convertToBigInt64WasmArray">convertToBigInt64WasmArray</a></li><li><a href="global.html#convertToBigUint64WasmArray">convertToBigUint64WasmArray</a></li><li><a href="global.html#convertToFloat32WasmArray">convertToFloat32WasmArray</a></li><li><a href="global.html#convertToFloat64WasmArray">convertToFloat64WasmArray</a></li><li><a href="global.html#convertToInt8WasmArray">convertToInt8WasmArray</a></li><li><a href="global.html#convertToInt16WasmArray">convertToInt16WasmArray</a></li><li><a href="global.html#convertToInt32WasmArray">convertToInt32WasmArray</a></li><li><a href="global.html#convertToUint8WasmArray">convertToUint8WasmArray</a></li><li><a href="global.html#convertToUint16WasmArray">convertToUint16WasmArray</a></li><li><a href="global.html#convertToUint32WasmArray">convertToUint32WasmArray</a></li><li><a href="global.html#convertToWasmArray">convertToWasmArray</a></li><li><a href="global.html#createBigInt64WasmArray">createBigInt64WasmArray</a></li><li><a href="global.html#createBigInt64WasmArrayView">createBigInt64WasmArrayView</a></li><li><a href="global.html#createBigUint64WasmArray">createBigUint64WasmArray</a></li><li><a href="global.html#createBigUint64WasmArrayView">createBigUint64WasmArrayView</a></li><li><a href="global.html#createFloat32WasmArray">createFloat32WasmArray</a></li><li><a href="global.html#createFloat32WasmArrayView">createFloat32WasmArrayView</a></li><li><a href="global.html#createFloat64WasmArray">createFloat64WasmArray</a></li><li><a href="global.html#createFloat64WasmArrayView">createFloat64WasmArrayView</a></li><li><a href="global.html#createInt8WasmArray">createInt8WasmArray</a></li><li><a href="global.html#createInt8WasmArrayView">createInt8WasmArrayView</a></li><li><a href="global.html#createInt16WasmArray">createInt16WasmArray</a></li><li><a href="global.html#createInt16WasmArrayView">createInt16WasmArrayView</a></li><li><a href="global.html#createInt32WasmArray">createInt32WasmArray</a></li><li><a href="global.html#createInt32WasmArrayView">createInt32WasmArrayView</a></li><li><a href="global.html#createUint8WasmArray">createUint8WasmArray</a></li><li><a href="global.html#createUint8WasmArrayView">createUint8WasmArrayView</a></li><li><a href="global.html#createUint16WasmArray">createUint16WasmArray</a></li><li><a href="global.html#createUint16WasmArrayView">createUint16WasmArrayView</a></li><li><a href="global.html#createUint32WasmArray">createUint32WasmArray</a></li><li><a href="global.html#createUint32WasmArrayView">createUint32WasmArrayView</a></li><li><a href="global.html#createWasmArray">createWasmArray</a></li><li><a href="global.html#createWasmArrayView">createWasmArrayView</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#safeSet">safeSet</a></li><li><a href="global.html#stringToClass">stringToClass</a></li><li><a href="global.html#subsetWasmArray">subsetWasmArray</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">safeSet.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { WasmArray } from "./base.js";

function grab_properties(x) {
    let lower_limit = Number.NEGATIVE_INFINITY;
    let upper_limit = Number.POSITIVE_INFINITY;
    let has_special = false;
    let is_array = false;
    let is_bigint = false;

    if (x.constructor == Array) {
        is_array = true;
    } else {
        let bits = null; 
        let signed;

        if (x.constructor.name.startsWith("Uint")) {
            bits = Number(x.constructor.name.replace(/^Uint/, "").replace(/Array$/, ""))
            signed = false;
        } else if (x.constructor.name.startsWith("Int")) {
            bits = Number(x.constructor.name.replace(/^Int/, "").replace(/Array$/, ""))
            signed = true;
        } else if (x.constructor.name.startsWith("Big")) {
            bits = 64;
            signed = x.constructor.name.startsWith("BigInt");
            is_bigint = true;
        }

        if (bits != null) {
            if (!signed) {
                lower_limit = 0;
                upper_limit = 2 ** bits - 1;
            } else {
                lower_limit = - (2 ** (bits - 1));
                upper_limit = 2 ** (bits - 1) - 1;
            }
        } else {
            has_special = true
        }
    }

    return { 
        lower: lower_limit,
        upper: upper_limit,
        bigint: is_bigint,
        special: has_special,
        array: is_array
    };
}

/**
 * Safely set the contents of one array from another, triggering warnings or errors on overflow and other invalid insertions.
 * Note that loss of precision when copying to/from floating-point is considered to be acceptable.
 *
 * @param {Array|TypedArray|WasmArray} from - Array of values to copy from.
 * @param {TypedArray|WasmArray} to - Array of values to copy to.
 * @param {object} [options={}] - Optional parameters.
 * @param {number} [options.offset=0] - Offset in `to` to start copying to.
 * @param {string} [options.action="warn"] - How to handle invalid entries in `from` (that cannot be represented in `to`).
 * This can be one of:
 *
 * - `"none"`: the invalid entry is silently replaced with the `placeholder` value.
 * - `"warn"`: emits a warning on the first invalid entry.
 *   The invalid entry is replaced with the `placeholder` value.
 * - `"error"`: an error is raised upon encountering an invalid entry.
 *
 * @param {number} [options.placeholder=0] - Placeholder value, used to replace invalid entries.
 *
 * @return `to` is filled with the contents of `from`, starting at the specified `offset`.
 */
export function safeSet(from, to, { offset = 0, action = "warn", placeholder = 0 } = {}) {
    if (to.length &lt; from.length + offset) {
        throw new Error("length of 'from' exceeds the length of 'to' at the specified 'offset'");
    }

    if (to.constructor.name == from.constructor.name) {
        to.set(from, offset);
        return;
    }

    let fromprop = grab_properties(from);
    let toprop = grab_properties(to);

    // If permissible, we can directly set the contents of the TypedArray.
    if (fromprop.lower >= toprop.lower &amp;&amp; fromprop.upper &lt;= toprop.upper &amp;&amp; fromprop.special &lt;= toprop.special &amp;&amp; fromprop.bigint == toprop.bigint &amp;&amp; !fromprop.array) {
        to.set(from, offset);
        return;
    }

    // Defining the doer function.
    let doer;
    if (action == "none") {
        doer = y => {
            return placeholder;
        };
    } else {
        let msg = "from a " + from.constructor.name + " to a " + to.constructor.name;

        if (action == "warn") {
            let warned = false;
            doer = y => {
                if (!warned) {
                    console.warn("cannot safely insert '" + String(y) + "' " + msg)
                    warned = true;
                }
                return placeholder;
            };
        } else if (action == "error") {
            doer = y => {
                throw new Error("cannot safely insert '" + String(y) + "' " + msg)
            };
        } else {
            throw new Error("unknown action '" + action + "' for handling invalid values");
        }
    }

    let sanitize_number = y => {
        if (fromprop.special &amp;&amp; !Number.isFinite(y)) {
            if (!toprop.special) {
                return doer(y);
            }
        } else if (toprop.lower > y || toprop.upper &lt; y) {
            return doer(y);
        }
        return y;
    };

    // BigInts need special handling, as always.
    if (fromprop.bigint &amp;&amp; !toprop.bigint) {
        for (var i = 0; i &lt; from.length; i++) {
            let y = Number(from[i]);
            if (toprop.lower > y || toprop.upper &lt; y) {
                y = doer(y);
            }
            to[i + offset] = y;
        }
        return;
    }

    if (toprop.bigint) {
        let lower_limit;
        let upper_limit;
        if (to.constructor == BigUint64Array) {
            lower_limit = 0n;
            upper_limit = 2n ** 64n - 1n;
        } else {
            lower_limit = -(2n ** 63n);
            upper_limit = 2n ** 63n - 1n;
        }

        if (fromprop.bigint) {
            for (var i = 0; i &lt; from.length; i++) {
                let y = from[i];
                if (lower_limit > y || upper_limit &lt; y) {
                    y = BigInt(doer(y));
                }
                to[i + offset] = y;
            }
            return;
        }

        if (fromprop.array) {
            for (var i = 0; i &lt; from.length; i++) {
                let y = from[i];
                if (typeof y == "bigint") {
                    if (lower_limit > y || upper_limit &lt; y) {
                        y = BigInt(doer(y));
                    }
                } else if (typeof y == "number") {
                    y = BigInt(sanitize_number(y));
                } else {
                    y = BigInt(doer(y))
                }
                to[i + offset] = y;
            }
            return;
        }

        for (var i = 0; i &lt; from.length; i++) {
            to[i + offset] = BigInt(sanitize_number(from[i]));
        }
        return;
    }

    // Arrays need special handling as well.
    if (fromprop.array) {
        for (var i = 0; i &lt; from.length; i++) {
            let y = from[i];
            if (typeof y === "bigint") {
                y = Number(y);
            } else if (typeof y !== "number") {
                y = doer(y);
            }
            to[i + offset] = sanitize_number(y);
        }
        return;
    }

    // Okay, finally, non-bigint typedarray to another non-bigint typedarray.
    for (var i = 0; i &lt; from.length; i++) {
        to[i + offset] = sanitize_number(from[i]);
    }

    return;
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Tue Mar 07 2023 18:52:24 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
